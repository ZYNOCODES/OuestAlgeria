<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    />
    <title>Ouest-Algerien</title>
    <link rel="stylesheet" href="/styleHome.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&family=Roboto:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  </head>
  <body>
    <header>
      <div class="image-background">
        <img src="/images/background.jpg" alt=""/>
      </div>
      <div class="header-container-research-bar">
        <div class="header-container-research-bar-content">
          <div class="editable-select-container">
            <input
              type="text"
              id="editable-select-input"
              placeholder="Rechercher ou entrer un lieu"
              oninput="filterEditableOptions()"
              onfocus="showOptions()"
              onblur="hideOptions()"
              autocomplete="off"
            />
            <ul id="editable-select-options" class="dropdown-options">
              <% if (Places && Places.length > 0) { %>
                <% Places.forEach(function (item) { %>
                  <li data-id="<%= item?._id %>" data-type="<%= item?.Type %>" onclick="selectOption(this)"><%= item?.Nom %></li>
                <% }); %>
              <% } else { %>
                <li>No places found.</li>
              <% } %>
            </ul>
          </div>
          <a id="searchButton" class="search-btn" href="#"><i class="fas fa-search"></i></a>
        </div>
      </div>
      <div class="header-container">
        <h4>Architecture des XIX<sup>e</sup> et XX<sup>e</sup> siècles</h4>
        <h3>Architecture</h3>
        <h3>ferroviaire en Algérie</h3>
        <h4>"Ligne ferroviaire Oran - Akkid Abbés"</h4>
        <form id="scrollForm">
          <button type="submit" class="valorisation-btn">Explore Now</button>
        </form>
      </div>
      <!-- <div class="social-media">
        <a href="#"><i class="fa-brands fa-facebook"></i></a>
        <a href="#"><i class="fa-brands fa-instagram"></i></a>
        <a href="#"><i class="fa-brands fa-twitter"></i></a>
      </div> -->
    </header>
    <section class="liste-du-patrimoine">
      <div id="cards-section"></div>
      <div class="cards">
        <form class="card" method="POST" action="/Gares">
          <img src="/images/sidi-bel-abbes-la-gare-plm.jpg" alt="">
          <div class="card-description">
            <h2>gares ferroviaires</h2>
            <div class="card-btn">
              <span>Terminus, Station, Halte</span>
              <input type="submit" value="Find out more"/>
            </div>
          </div>
        </form>
        <form class="card" method="POST" action="/Lignes">
          <img src="/images/ligne ferroviaire Oued Zitoun Sabra10.2023.jpg" alt="">
          <div class="card-description">
            <h2>lignes ferroviaires</h2>
            <div class="card-btn">
              <span>Ouest Algérien</span>
              <input type="submit" value="Find out more"/>
            </div>
          </div>
        </form>
        <form class="card" method="POST" action="/Ouvrages">
          <img src="/images/decembre 2022 au moment du passage d train coucher du soleil.jpg" alt="">
          <div class="card-description">
            <h2>Ouvrages d'art ferroviaires</h2>
            <div class="card-btn">
              <span>Viaducs, Tunnels, Ponts.</span>
              <input type="submit" value="Find out more"/>
            </div>
          </div>
        </form>
      </div>
      <div class="histoire">
        <h2 class="histoire-title">histoire</h2>
        <div class="histoire-container">
          <img src="/images/lignes-ferroviaires.png" alt="">
          <div class="histoire-description">
            <span>Histoire Chemin de fer Algérien</span>
            <form method="POST" action="/Historique">
              <button type="submit" class="histoire-btn">Explore Now</button>
            </form>
          </div>
        </div>
      </div>
      <div class="histoire">
        <h2 class="histoire-title">Valorisation touristique du patrimoine ferroviaire</h2>
        <div class="histoire-container">
          <img src="/images/Oran_PH2.jpg" alt="">
          <div class="histoire-description">
            <span>Valorisation touristique du patrimoine ferroviaire</span>
            <form method="POST" action="/Valorisation">
              <button type="submit" class="histoire-btn">Explore Now</button>
            </form>
          </div>
        </div>
      </div>
      <div class="comments">
        <main class="l-card">
          <section class="l-card__text">
            <p>
              Le chemin de fer est la colonne vertébrale de la modernité, traversant les paysages comme une cicatrice de progrès, reliant les villes et les nations tout en révélant la beauté et la diversité de notre monde naturel.
            </p>
          </section>
          <section class="l-card__user">
            <div class="l-card__userInfo">
              <span>Sir Norman Foster</span>
              <span>Architecte Britannique</span>
            </div>
          </section>
        </main>
        <main class="l-card">
          <section class="l-card__text">
            <p>
              Si cette identité est appelée à sauver un art identifiable c’est-à-dire l'architecture, il est du ressort de l’art de sauver l’environnement dans lequel cette identité peut survivre 
            </p>
          </section>
          <section class="l-card__user">
            <div class="l-card__userInfo">
              <span>EI- Wakil</span>
              <span>The Arab house, past and present, Durham, Great Britain, 1987, P 26.</span>
            </div>
          </section>
        </main>
      </div>
    </section>






    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/wicg-inert@latest/dist/inert.min.js"></script>
    <script src="/mainHome.js"></script>
    <script src="/GareMain.js"></script>
    <script src="/StationMain.js"></script>
    <script src="/PontMain.js"></script>
    <script src="/HalteMain.js"></script>
    <script>
      function selectOption(element) {
        const input = document.getElementById("editable-select-input");
        const searchButton = document.getElementById("searchButton");

        // Set the input value to the selected option's text
        input.value = element.textContent;

        // Update the anchor's href with the selected item's `_id`
        const selectedId = element.getAttribute("data-id");
        const selectedType = element.getAttribute("data-type");
        if ((selectedType === "Pont")||
            (selectedType === "Pont Metallique")||(selectedType === "Pont metallique")||
            (selectedType === "Viaduc en maconnerie")||
            (selectedType === "Viaduc metallique")|| (selectedType === "maconnerie")||
            (selectedType === "Pont Metallique en Arc")) {
          searchButton.href = `/ouvrage/${selectedId}`;
        } else {
          searchButton.href = `/${selectedId}`;
        }

        // Delay the dropdown hiding for better user interaction
        setTimeout(() => {
          hideOptions();
        }, 100);
      }

      function filterEditableOptions() {
        const input = document.getElementById("editable-select-input").value.toLowerCase();
        const options = document.querySelectorAll("#editable-select-options li");

        options.forEach((option) => {
          const optionText = option.textContent.toLowerCase();
          option.style.display = optionText.includes(input) ? "block" : "none";
        });
      }

      function showOptions() {
        const options = document.getElementById("editable-select-options");
        options.style.display = "block";
      }

      function hideOptions() {
        setTimeout(() => {
          const options = document.getElementById("editable-select-options");
          options.style.display = "none";
        }, 200);
      }
      document.getElementById("scrollForm").addEventListener("submit", function(event) {
        event.preventDefault();
        document.getElementById("cards-section").scrollIntoView({ behavior: "smooth" });
      });
    </script>
  </body>
</html>
